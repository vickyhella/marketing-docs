1
00:00:00,160 --> 00:00:02,560
你好，我是今天的讲师

2
00:00:02,560 --> 00:00:10,400
我将展示如何在 Harvester 上将磁盘添加到运行的虚拟机

3
00:00:10,400 --> 00:00:19,520
我在 KubeVirt 2022 年峰会的演示犯了一个错误

4
00:00:19,520 --> 00:00:25,039
我转到这里的配置，转到卷选项卡

5
00:00:25,039 --> 00:00:29,119
并试图添加一个现有卷

6
00:00:29,119 --> 00:00:34,239
然后，取消选中"立即重启"并单击保存

7
00:00:34,239 --> 00:00:38,480
现在我想给你演示那个错误

8
00:00:38,480 --> 00:00:42,480
在这里选择我的 kubevirt summit 磁盘

9
00:00:42,480 --> 00:00:45,200
其他都已经设置好了

10
00:00:45,200 --> 00:00:48,719
然后在点击保存时提示了错误

11
00:00:48,719 --> 00:00:52,640
然后我就想，是不是这个演示跟我杠上了

12
00:00:52,640 --> 00:01:01,039
其实不是的。我需要直接从这里的菜单中添加一个卷

13
00:01:01,039 --> 00:01:09,600
这里我将卷命名为 kubevirtdisk

14
00:01:09,600 --> 00:01:14,000
然后选择未分配的磁盘

15
00:01:14,000 --> 00:01:15,680
单击"应用"

16
00:01:15,680 --> 00:01:21,759
如果现在转到卷选项卡，我们看到卷已经连接到虚拟机

17
00:01:21,759 --> 00:01:24,240
所以现在回到虚拟机页面

18
00:01:24,240 --> 00:01:30,000
这里没有显示我的这个磁盘

19
00:01:30,000 --> 00:01:37,520
我刷新一下设置后，就能看到磁盘了

20
00:01:37,520 --> 00:01:44,479
现在转到磁盘管理器并同样进行刷新

21
00:01:44,479 --> 00:01:50,320
过几秒后我们也能看到一个新磁盘

22
00:01:50,320 --> 00:01:52,799
不好意思，是这里才对

23
00:01:52,799 --> 00:02:00,399
这个就是我的 10 GB 磁盘

24
00:02:00,399 --> 00:02:04,000
然后我上线该磁盘

25
00:02:04,479 --> 00:02:10,720
使用 GPT 对它进行初始化

26
00:02:10,959 --> 00:02:16,800
最后，使用所有的空间创建一个卷

27
00:02:16,800 --> 00:02:19,760
在演示中我会保留默认设置

28
00:02:19,760 --> 00:02:27,360
现在我们可以看到磁盘了。以上就是将热插拔卷添加到 KubeVirt 的方法。

